<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<location path="." inheritInChildApplications="false">
		<system.webServer>
			<applicationInitialization doAppInitAfterRestart="true" />
			<aspNetCore processPath="dotnet" arguments=".\MyApp.dll" hostingModel="inprocess" forwardWindowsAuthToken="false"
			            startupTimeLimit="@@InitializationTimeoutSeconds" />
			<handlers>
				<clear />
				<add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
			</handlers>
			<modules>
				<clear />
				<add name="AnonymousAuthenticationModule" />
				<add name="ApplicationInitializationModule" />
				<add name="AspNetCoreModuleV2" />
				<add name="ConfigurationValidationModule" />
				<add name="DynamicCompressionModule" />
				<add name="RequestFilteringModule" />
			</modules>
			<security>
				<requestFiltering allowDoubleEscaping="true">
					<requestLimits maxAllowedContentLength="134217728" />
				</requestFiltering>
			</security>

			<!-- This may have fixed an obscure bug that happens with client certificate authentication. We are not sure. -->
			<serverRuntime uploadReadAheadSize="8388608" />
		</system.webServer>
	</location>
</configuration>